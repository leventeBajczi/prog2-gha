\hypertarget{main_8cpp}{}\section{src/main.cpp File Reference}
\label{main_8cpp}\index{src/main.\+cpp@{src/main.\+cpp}}
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$fstream$>$}\newline
{\ttfamily \#include \char`\"{}datei/sprache/sprache.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}virtualmachine/virtualmachine.\+hpp\char`\"{}}\newline
{\ttfamily \#include $<$cstring$>$}\newline
Include dependency graph for main.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main_8cpp__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{main_8cpp_abcc3634e0e2f2dbb48613358d7e2684b}{P\+R\+I\+N\+T\+\_\+\+L\+A\+N\+G\+U\+A\+GE}}~\char`\"{}-\/p\char`\"{}
\item 
\#define \mbox{\hyperlink{main_8cpp_a9d2aadc852080725dea9477c21ff0530}{L\+A\+N\+G\+U\+A\+G\+E\+\_\+\+F\+I\+LE}}~\char`\"{}-\/l\char`\"{}
\item 
\#define \mbox{\hyperlink{main_8cpp_acee30f4d646de26478e8b9fdb686c3a0}{U\+S\+E\+\_\+\+F\+I\+L\+ES}}~\char`\"{}-\/f\char`\"{}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{main_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{main_8cpp_a9d2aadc852080725dea9477c21ff0530}\label{main_8cpp_a9d2aadc852080725dea9477c21ff0530}} 
\index{main.\+cpp@{main.\+cpp}!L\+A\+N\+G\+U\+A\+G\+E\+\_\+\+F\+I\+LE@{L\+A\+N\+G\+U\+A\+G\+E\+\_\+\+F\+I\+LE}}
\index{L\+A\+N\+G\+U\+A\+G\+E\+\_\+\+F\+I\+LE@{L\+A\+N\+G\+U\+A\+G\+E\+\_\+\+F\+I\+LE}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{L\+A\+N\+G\+U\+A\+G\+E\+\_\+\+F\+I\+LE}{LANGUAGE\_FILE}}
{\footnotesize\ttfamily \#define L\+A\+N\+G\+U\+A\+G\+E\+\_\+\+F\+I\+LE~\char`\"{}-\/l\char`\"{}}



Definition at line 9 of file main.\+cpp.



Referenced by main().

\mbox{\Hypertarget{main_8cpp_abcc3634e0e2f2dbb48613358d7e2684b}\label{main_8cpp_abcc3634e0e2f2dbb48613358d7e2684b}} 
\index{main.\+cpp@{main.\+cpp}!P\+R\+I\+N\+T\+\_\+\+L\+A\+N\+G\+U\+A\+GE@{P\+R\+I\+N\+T\+\_\+\+L\+A\+N\+G\+U\+A\+GE}}
\index{P\+R\+I\+N\+T\+\_\+\+L\+A\+N\+G\+U\+A\+GE@{P\+R\+I\+N\+T\+\_\+\+L\+A\+N\+G\+U\+A\+GE}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{P\+R\+I\+N\+T\+\_\+\+L\+A\+N\+G\+U\+A\+GE}{PRINT\_LANGUAGE}}
{\footnotesize\ttfamily \#define P\+R\+I\+N\+T\+\_\+\+L\+A\+N\+G\+U\+A\+GE~\char`\"{}-\/p\char`\"{}}



Definition at line 8 of file main.\+cpp.



Referenced by main().

\mbox{\Hypertarget{main_8cpp_acee30f4d646de26478e8b9fdb686c3a0}\label{main_8cpp_acee30f4d646de26478e8b9fdb686c3a0}} 
\index{main.\+cpp@{main.\+cpp}!U\+S\+E\+\_\+\+F\+I\+L\+ES@{U\+S\+E\+\_\+\+F\+I\+L\+ES}}
\index{U\+S\+E\+\_\+\+F\+I\+L\+ES@{U\+S\+E\+\_\+\+F\+I\+L\+ES}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{U\+S\+E\+\_\+\+F\+I\+L\+ES}{USE\_FILES}}
{\footnotesize\ttfamily \#define U\+S\+E\+\_\+\+F\+I\+L\+ES~\char`\"{}-\/f\char`\"{}}



Definition at line 10 of file main.\+cpp.



Referenced by main().



\subsection{Function Documentation}
\mbox{\Hypertarget{main_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{main_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{main.\+cpp@{main.\+cpp}!main@{main}}
\index{main@{main}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}

Main Funkion des Programmes 

Definition at line 16 of file main.\+cpp.



References Virtual\+Machine\+::add\+Subroutine(), Virtual\+Machine\+::get\+Value(), L\+A\+N\+G\+U\+A\+G\+E\+\_\+\+F\+I\+LE, P\+R\+I\+N\+T\+\_\+\+L\+A\+N\+G\+U\+A\+GE, Virtual\+Machine\+::re\+Run\+All(), Virtual\+Machine\+::run\+Instruction(), and U\+S\+E\+\_\+\+F\+I\+L\+ES.


\begin{DoxyCode}
17 \{
18 
19 
20 
21 std::string sprachendatei = \textcolor{stringliteral}{"\{  \(\backslash\)}
22 \textcolor{stringliteral}{                                                \(\backslash\)n\(\backslash\)"Move B to A\(\backslash\)":\(\backslash\)"mov\(\backslash\)",\(\backslash\)}
23 \textcolor{stringliteral}{                                                \(\backslash\)n\(\backslash\)"Add B to A\(\backslash\)":\(\backslash\)"add\(\backslash\)",\(\backslash\)}
24 \textcolor{stringliteral}{                                                \(\backslash\)n\(\backslash\)"Substract B from A\(\backslash\)":\(\backslash\)"sub\(\backslash\)",\(\backslash\)}
25 \textcolor{stringliteral}{                                                \(\backslash\)n\(\backslash\)"Swap the upper and lower 4 bits\(\backslash\)":\(\backslash\)"swp\(\backslash\)",\(\backslash\)}
26 \textcolor{stringliteral}{                                                \(\backslash\)n\(\backslash\)"Shift left, insert 0\(\backslash\)":\(\backslash\)"sl0\(\backslash\)",\(\backslash\)}
27 \textcolor{stringliteral}{                                                \(\backslash\)n\(\backslash\)"Shift right, insert 0\(\backslash\)":\(\backslash\)"sr0\(\backslash\)",\(\backslash\)}
28 \textcolor{stringliteral}{                                                \(\backslash\)n\(\backslash\)"Jump to subroutine\(\backslash\)":\(\backslash\)"jsr\(\backslash\)",\(\backslash\)}
29 \textcolor{stringliteral}{                                                \(\backslash\)n\(\backslash\)"Push value to stack\(\backslash\)":\(\backslash\)"push\(\backslash\)",\(\backslash\)}
30 \textcolor{stringliteral}{                                                \(\backslash\)n\(\backslash\)"Pop value from stack\(\backslash\)":\(\backslash\)"pop\(\backslash\)"\(\backslash\)}
31 \textcolor{stringliteral}{                                                \(\backslash\)n\}"};
32 \mbox{\hyperlink{class_sprache}{Sprache}} sprache(sprachendatei, \textcolor{stringliteral}{"mylang"});
33 \mbox{\hyperlink{class_virtual_machine}{VirtualMachine}}* vm = \textcolor{keyword}{new} \mbox{\hyperlink{class_virtual_machine}{VirtualMachine}}(sprache, 512, 60);
34     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 1; i<argc;i++)\{
35         \textcolor{keywordflow}{if}      (strcmp(argv[i], \mbox{\hyperlink{main_8cpp_abcc3634e0e2f2dbb48613358d7e2684b}{PRINT\_LANGUAGE}}) == 0)\{
36             std::ofstream myfile;
37             myfile.open (argv[i+1]);
38             myfile << sprachendatei;
39             myfile.close();
40             \textcolor{keywordflow}{return} 0;
41         \}
42         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strcmp(argv[i], \mbox{\hyperlink{main_8cpp_a9d2aadc852080725dea9477c21ff0530}{LANGUAGE\_FILE}}) == 0)\{
43             std::ifstream t(argv[++i]);
44             std::string file((std::istreambuf\_iterator<char>(t)),
45             std::istreambuf\_iterator<char>());
46             sprachendatei = file;
47 
48             \mbox{\hyperlink{class_sprache}{Sprache}} sprache(sprachendatei, \textcolor{stringliteral}{"mylang"});
49             \textcolor{keyword}{delete} vm;
50             vm = \textcolor{keyword}{new} \mbox{\hyperlink{class_virtual_machine}{VirtualMachine}}(sprache);
51 
52         \}
53         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strcmp(argv[i], \mbox{\hyperlink{main_8cpp_acee30f4d646de26478e8b9fdb686c3a0}{USE\_FILES}}) == 0)\{
54             \textcolor{keywordflow}{for}(i=i+1;i<argc;i++)
55             \{
56                 std::ifstream t(argv[i]);
57                 std::string file((std::istreambuf\_iterator<char>(t)),
58                 std::istreambuf\_iterator<char>());
59                 vm->\mbox{\hyperlink{class_virtual_machine_a52907412b34a0b747bfaa26c48253aa9}{addSubroutine}}(file);
60             \}
61         \}
62         \textcolor{keywordflow}{else}\{
63             std::cout<<\textcolor{stringliteral}{"Unrecognized CLI switch "}<<argv[i]<<\textcolor{stringliteral}{" , quitting."}<<std::endl;
64             \textcolor{keywordflow}{return} -1;
65         \}
66     \}
67     std::string line;
68     \textcolor{keywordflow}{while}(\textcolor{keyword}{true})
69     \{
70         std::getline(std::cin, line);
71         \textcolor{keywordflow}{if}(line == \textcolor{stringliteral}{"quit"})
72         \{
73             \textcolor{keyword}{delete} vm;
74              \textcolor{keywordflow}{return} 0;
75         \}
76         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (line == \textcolor{stringliteral}{"runAll"}) vm->\mbox{\hyperlink{class_virtual_machine_a572584de47b0e95303e71832b684175f}{reRunAll}}();
77         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (line[0] == \textcolor{charliteral}{'('} || line[0] == \textcolor{charliteral}{'r'}) std::cout<<\textcolor{stringliteral}{"Wert von "}<<line<<\textcolor{stringliteral}{": 0x"}<<std::hex<<(\textcolor{keywordtype}{
      unsigned} int)vm->\mbox{\hyperlink{class_virtual_machine_a09bdaea77003f19912e0f101faefa26f}{getValue}}(line)<<std::endl;
78         \textcolor{keywordflow}{else} \{
79             \textcolor{keywordflow}{try}\{
80                 vm->\mbox{\hyperlink{class_virtual_machine_aabeb8078a57ca3bb98c24bc655296e9f}{runInstruction}}(line);
81             \}
82             \textcolor{keywordflow}{catch}(\textcolor{keywordtype}{char} \textcolor{keyword}{const}* e)
83             \{
84                 std::cout<<e<<std::endl;
85             \}
86         \}
87     \}
88 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main_8cpp_a3c04138a5bfe5d72780bb7e82a18e627_cgraph}
\end{center}
\end{figure}
